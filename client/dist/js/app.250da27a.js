(function(){"use strict";var t={1723:function(t,e,r){var n=r(5130),o=r(6768);const a={class:"page-wrap"};function s(t,e,r,n,s,c){const u=(0,o.g2)("NavBar"),i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(u,{user:s.user},null,8,["user"]),(0,o.Lk)("div",a,[(0,o.bF)(i,{user:s.user},null,8,["user"])])],64)}var c=r(6971);const u={class:"nav-bar"},i={class:"logo-wrap"},l=["src"],d={class:"nav-buttons-wrap"};function p(t,e,r,n,a,s){const c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.bF)(c,{to:"/plp",class:"products-link"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",i,[(0,o.Lk)("img",{src:a.logo},null,8,l)])])),_:1}),(0,o.Lk)("div",d,[r.user?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>s.signOut&&s.signOut(...t))},"Sign Out")):(0,o.Q3)("",!0),(0,o.bF)(c,{to:"/cartcheckout"},{default:(0,o.k6)((()=>e[1]||(e[1]=[(0,o.Lk)("button",null,"Shopping Cart",-1)]))),_:1})])])}var m=r.p+"img/logo.976c6613.svg",h={name:"NavBar",props:["user"],data(){return{logo:m}},methods:{signOut(){const t=(0,c.xI)();(0,c.CI)(t)}}},g=r(1241);const f=(0,g.A)(h,[["render",p]]);var v=f,k={name:"App",components:{NavBar:v},data(){return{user:null}},created(){const t=(0,c.xI)();(0,c.hg)(t,(t=>{this.user=t}))}};const C=(0,g.A)(k,[["render",s]]);var b=C,I=r(1387);const y={key:0},w={key:1};function L(t,e,r,n,a,s){const c=(0,o.g2)("CartList");return(0,o.uX)(),(0,o.CE)(o.FK,null,[e[2]||(e[2]=(0,o.Lk)("h1",null,"Shopping Cart",-1)),a.cartItems.length>0?((0,o.uX)(),(0,o.CE)("div",y,[(0,o.bF)(c,{onRemoveFromCart:e[0]||(e[0]=t=>s.removeFromCart(t)),products:a.cartItems},null,8,["products"]),e[1]||(e[1]=(0,o.Lk)("button",{class:"checkout-button"},"Proceed to Checkout",-1))])):(0,o.Q3)("",!0),0===a.cartItems.length?((0,o.uX)(),(0,o.CE)("div",w," You current have no items in your cart! ")):(0,o.Q3)("",!0)],64)}var A=r(4373),F=r(4232);const E=["src"],S={class:"details-wrap"},O=["onClick"];function P(t,e,r,n,a,s){return(0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.products,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"product-container",key:e.id},[(0,o.Lk)("img",{class:"product-image",src:e.imageUrl},null,8,E),(0,o.Lk)("div",S,[(0,o.Lk)("h3",null,(0,F.v_)(e.name),1),(0,o.Lk)("p",null,(0,F.v_)(e.price),1)]),(0,o.Lk)("button",{onClick:r=>t.$emit("remove-from-cart",e.id),class:"remove-button"},"Remove from the Cart",8,O)])))),128)}var X={name:"CartList",props:["products"]};const $=(0,g.A)(X,[["render",P]]);var _=$,j={name:"CartCheckout",props:["user"],components:{CartList:_},data(){return{cartItems:[]}},watch:{async user(t){if(console.log("Changed!"),console.log(t),t){const e=await A.A.get(`/api/users/${t.uid}/cartcheckout`),r=e.data;this.cartItems=r}}},methods:{async removeFromCart(t){const e=await A.A.delete(`/api/users/${this.user.uid}/cartcheckout/${t}`),r=e.data;this.cartItems=r}},async created(){if(console.log(this.user),this.user){const t=await A.A.get(`/api/users/${this.user.uid}/cartcheckout`),e=t.data;this.cartItems=e}}};const x=(0,g.A)(j,[["render",L]]);var T=x;function Q(t,e,r,n,a,s){const c=(0,o.g2)("ProductsGrid");return(0,o.uX)(),(0,o.CE)(o.FK,null,[e[0]||(e[0]=(0,o.Lk)("h1",null,"Products",-1)),(0,o.bF)(c,{products:a.products},null,8,["products"])],64)}const K={class:"grid-wrap"},N=["src"],M={class:"product-name"},R={class:"product-price"};function B(t,e,r,n,a,s){const c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",K,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.products,(t=>((0,o.uX)(),(0,o.CE)("div",{class:"product-item",key:t.id},[(0,o.Lk)("img",{src:t.imageUrl},null,8,N),(0,o.Lk)("h3",M,(0,F.v_)(t.name),1),(0,o.Lk)("p",R,(0,F.v_)(t.price),1),(0,o.bF)(c,{to:"/plp/"+t.id},{default:(0,o.k6)((()=>e[0]||(e[0]=[(0,o.Lk)("button",null,"View Details",-1)]))),_:2},1032,["to"])])))),128))])}var D={name:"ProductsGrid",props:["products"]};const G=(0,g.A)(D,[["render",B]]);var U=G,Y={name:"PLP",components:{ProductsGrid:U},data(){return{products:[]}},async created(){const t=await A.A.get("/api/plp"),e=t.data;this.products=e}};const q=(0,g.A)(Y,[["render",Q]]);var z=q;const H={key:0},V={class:"img-wrap"},W=["src"],Z={class:"product-details"},J={class:"price"},tt={key:1,class:"grey-button"},et={key:1};function rt(t,e,r,n,a,s){const c=(0,o.g2)("NotFoundPage");return a.product?((0,o.uX)(),(0,o.CE)("div",H,[(0,o.Lk)("div",V,[(0,o.Lk)("img",{src:a.product.imageUrl},null,8,W)]),(0,o.Lk)("div",Z,[(0,o.Lk)("h1",null,(0,F.v_)(a.product.name),1),(0,o.Lk)("h3",J,(0,F.v_)(a.product.price),1),r.user&&!s.itemIsInCart?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>s.addToCart&&s.addToCart(...t)),class:"add-to-cart"}," Add to cart ")):(0,o.Q3)("",!0),r.user&&s.itemIsInCart?((0,o.uX)(),(0,o.CE)("button",tt," Item is already in cart ")):(0,o.Q3)("",!0),r.user?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:2,class:"sign-in",onClick:e[1]||(e[1]=(...t)=>s.signIn&&s.signIn(...t))}," Sign in to add item to cart "))])])):((0,o.uX)(),(0,o.CE)("div",et,[(0,o.bF)(c)]))}const nt={class:"not-found"};function ot(t,e,r,n,a,s){const c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",nt,[e[1]||(e[1]=(0,o.Lk)("h1",null,"404",-1)),e[2]||(e[2]=(0,o.Lk)("p",null,"Oops! The page you are looking for doesn't exist.",-1)),(0,o.bF)(c,{to:"/",class:"home-button"},{default:(0,o.k6)((()=>e[0]||(e[0]=[(0,o.Lk)("button",null,"Return to Home",-1)]))),_:1})])}var at={name:"NotFoundPage"};const st=(0,g.A)(at,[["render",ot]]);var ct=st,ut={name:"PDP",props:["user"],data(){return{product:{},cartItems:[]}},computed:{itemIsInCart(){return this.cartItems.some((t=>t.id===this.$route.params.productId))}},watch:{async user(t){if(t){const e=await A.A.get(`/api/users/${t.uid}/cartcheckout`),r=e.data;this.cartItems=r}}},methods:{async addToCart(){await A.A.post(`/api/users/${this.user.uid}/cartcheckout`,{id:this.$route.params.productId}),alert("Successfully added item to cart!")},async signIn(){const t=prompt("Please enter your email to sign in:"),e=(0,c.xI)(),r={url:`https://e-commerce-fs-app.onrender.com/plp/${this.$route.params.productId}`,handleCodeInApp:!0};await(0,c.MN)(e,t,r),alert("A login link was sent to the email you provided"),window.localStorage.setItem("emailForSignIn",t)}},components:{NotFoundPage:ct},async created(){const t=(0,c.xI)();if((0,c.Pj)(t,window.location.href)){const e=window.localStorage.getItem("emailForSignIn");await(0,c.hK)(t,e,window.location.href),alert("Successfully signed in!"),window.localStorage.removeItem("emailForSignIn")}const e=await A.A.get(`/api/plp/${this.$route.params.productId}`),r=e.data;if(this.product=r,this.user){const t=await A.A.get(`/api/users/${this.user.uid}/cartcheckout`),e=t.data;this.cartItems=e}}};const it=(0,g.A)(ut,[["render",rt]]);var lt=it,dt=r(6400);const pt={apiKey:"AIzaSyDqCSaEmAQiYTZ8c4A156SyaSEb5Qf6COM",authDomain:"ecomm-pet-store.firebaseapp.com",projectId:"ecomm-pet-store",storageBucket:"ecomm-pet-store.appspot.com",messagingSenderId:"861060774739",appId:"1:861060774739:web:53636e54a1a01a13a63fa6",measurementId:"G-LS1Y9TR2QR"};(0,dt.Wp)(pt),(0,n.Ef)(b).use(I.aE({history:I.LA("/"),routes:[{path:"/cartcheckout",component:T},{path:"/plp",component:z},{path:"/plp/:productId",component:lt},{path:"/",redirect:"/plp"},{path:"/:pathMatch(.*)*",component:ct}]})).mount("#app")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,n,o,a){if(!n){var s=1/0;for(l=0;l<t.length;l++){n=t[l][0],o=t[l][1],a=t[l][2];for(var c=!0,u=0;u<n.length;u++)(!1&a||s>=a)&&Object.keys(r.O).every((function(t){return r.O[t](n[u])}))?n.splice(u--,1):(c=!1,a<s&&(s=a));if(c){t.splice(l--,1);var i=o();void 0!==i&&(e=i)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,o,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,a,s=n[0],c=n[1],u=n[2],i=0;if(s.some((function(e){return 0!==t[e]}))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(u)var l=u(r)}for(e&&e(n);i<s.length;i++)a=s[i],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(l)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(1723)}));n=r.O(n)})();
//# sourceMappingURL=app.250da27a.js.map